(self.webpackChunkchendachao=self.webpackChunkchendachao||[]).push([[203],{1203:function(e,t,n){"use strict";n.r(t);var o=n(2592),i=n(908);n.e(284).then(n.bind(n,7284)),t.default=function(){var e="appear-from-top",t="disappear-from-top",n=/localhost|127.0.0.1/.test(window.location.origin)?"https://chendachao.github.io":window.location.origin,c=document.querySelector("#dialog"),a=document.querySelectorAll(".dialog-dismiss-trigger"),r=document.querySelector(".download-btn"),s=document.querySelector(".qrcode-handler"),l=document.querySelector(".mobile-qrcode");function d(){c.classList.add("shake"),setTimeout((function(){return c.classList.remove("shake")}),300)}function u(e){c.classList.add(t),setTimeout((function(){c.classList.remove(t),c.close(e)}),500)}l.setAttribute("alt",n),i.Z.registerDialog(c),s.addEventListener("click",(function(){c.showModal(),c.classList.add(e),setTimeout((function(){c.classList.remove(e)}),650);var t=document.createElement("canvas"),i=320,a=320,r=3;o.toCanvas(t,n,{width:i,height:a,margin:r,errorCorrectionLevel:"H",quality:1,version:5,color:{}}).then((function(e){var t=48,n=48,o=e.getContext("2d"),i=new Image;i.src="/assets/images/icons/favicon.ico",i.onload=function(){o.lineWidth=2,o.lineJoin="round",o.lineCap="round",o.strokeStyle="#ffffff",o.beginPath(),o.rect(e.width/2-t/2-1.5,e.width/2-t/2-1.5,t+6,n+6),o.stroke(),o.fillStyle="#ffffff",o.fillRect(e.width/2-t/2-1.5,e.height/2-n/2-1.5,t+6,n+6),o.drawImage(i,e.width/2-t/2+1.5,e.height/2-n/2+1.5,t,n),l.src=e.toDataURL("image/png")}})).catch((function(e){l.setAttribute("alt","Failed to generate QRCode, please visit ".concat(n)),console.error(e)}))})),a.forEach((function(e){e.addEventListener("click",(function(){u()}))})),r.addEventListener("click",(function(){var e;u(),e=l.src,r.download="".concat(window.location.hostname,".png"),r.href=e})),c.addEventListener("close",(function(){c.returnValue=""})),c.addEventListener("click",(function(e){var t=c.getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.bottom&&t.left<=e.clientX&&e.clientX<=t.right||d()})),c.addEventListener("cancel",(function(e){e.preventDefault(),d()}))}}}]);