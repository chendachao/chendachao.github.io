"use strict";(self.webpackChunkchendachao=self.webpackChunkchendachao||[]).push([[348],{10348:function(){function he(){}(function(){if(!("onload"in XMLHttpRequest.prototype)||navigator.standalone)return;const v=!1,K=["standalone","fullscreen","minimal-ui"],Q="#f8f9fa",_=24,Y="HelveticaNeue-CondensedBold",k=128,B=48,M=20,Z=120,L=navigator.userAgent||"",S=navigator.vendor&&navigator.vendor.indexOf("Apple")!==-1&&(L.indexOf("Mobile/")!==-1||"standalone"in navigator)||v,ee=Boolean(L.match(/(MSIE |Edge\/|Trident\/)/)),te=typeof Windows!="undefined";let g,w;try{w=sessionStorage}catch(e){}w=w||{};function I(e){try{return document.head.querySelector(e)}catch(t){return null}}function y(e,t){const o="__pwacompat_"+e;return t!==void 0&&(w[o]=t),w[o]}function D(){g=I('link[rel="manifest"]');const e=g?g.href:"";if(!e)throw`can't find <link rel="manifest" href=".." />'`;const t=ne([e,location]),o=y("manifest");if(o){try{const i=JSON.parse(o);H(i,t)}catch(i){console.warn("PWACompat error",i)}return}const r=new XMLHttpRequest;r.open("GET",e),r.withCredentials=g.getAttribute("crossorigin")==="use-credentials",r.onload=()=>{try{const i=JSON.parse(r.responseText);y("manifest",r.responseText),H(i,t)}catch(i){console.warn("PWACompat error",i)}},r.send(null)}function ne(e){for(let t=0;t<e.length;++t){const o=e[t];try{return new URL("",o),r=>new URL(r||"",o).toString()}catch(r){}}return t=>t||""}function C(e,t,o){if(I(e+o))return;const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return document.head.appendChild(r),r}function c(e,t){t&&(t===!0&&(t="yes"),C("meta",{name:e,content:t},`[name="${e}"]`))}function oe(e){const t=e.sizes.split(/\s+/g).map(o=>o==="any"?1/0:parseInt(o,10)||0);return{src:e.src,type:e.type,sizes:e.sizes,largestSize:Math.max.apply(null,t),purpose:e.purpose?e.purpose.split(/\s+/g):["any"]}}function H(e,t){const o=(e.icons||[]).map(oe).sort((n,a)=>a.largestSize-n.largestSize),r=o.filter(n=>n.purpose.indexOf("any")>-1),i=o.filter(n=>n.purpose.indexOf("maskable")>-1),h=(i.length>0?i:r).map(n=>{const a={rel:"icon",href:t(n.src),sizes:n.sizes},s=`[sizes="${n.sizes}"]`;if(C("link",a,'[rel="icon"]'+s),!!S&&!(n.largestSize<Z))return a.rel="apple-touch-icon",C("link",a,'[rel="apple-touch-icon"]'+s)}).filter(Boolean),m=I('meta[name="viewport"]'),le=m&&m.content||"",pe=Boolean(le.match(/\bviewport-fit\s*=\s*cover\b/)),U=e.display,E=K.indexOf(U)!==-1;if(c("mobile-web-app-capable",E),se(e.theme_color||"black",pe),ee){c("application-name",e.short_name),c("msapplication-tooltip",e.description),c("msapplication-starturl",t(e.start_url||".")),c("msapplication-navbutton-color",e.theme_color);const n=r[0];n&&c("msapplication-TileImage",t(n.src)),c("msapplication-TileColor",e.background_color)}if(c("theme-color",e.theme_color),!S){const n=ae(e.orientation);c("x5-orientation",n),c("screen-orientation",n),U==="fullscreen"?(c("x5-fullscreen","true"),c("full-screen","yes")):E&&(c("x5-page-mode","app"),c("browsermode","application"));return}const x=e.background_color||Q,ue=F(x),$=re(e.related_applications);$&&c("apple-itunes-app",`app-id=${$}`),c("apple-mobile-web-app-capable",E),c("apple-mobile-web-app-title",e.short_name||e.name);function N(n,a,s,f){const p=window.devicePixelRatio,u=T({width:n*p,height:a*p});if(u.scale(p,p),u.fillStyle=x,u.fillRect(0,0,n,a),u.translate(n/2,(a-M)/2),f){let d=f.width/p,l=f.height/p;l>k&&(d/=l/k,l=k),d>=B&&l>=B&&(u.drawImage(f,d/-2,l/-2,d,l),u.translate(0,l/2+M))}u.fillStyle=ue?"white":"black",u.font=`${_}px ${Y}`;const fe=getComputedStyle(g);u.font=fe.getPropertyValue("--pwacompat-splash-font");const O=e.name||e.short_name||document.title,R=u.measureText(O),j=R.actualBoundingBoxAscent||_;if(u.translate(0,j),R.width<n*.8)u.fillText(O,R.width/-2,0);else{const d=O.split(/\s+/g);for(let l=1;l<=d.length;++l){const G=d.slice(0,l).join(" "),X=u.measureText(G).width;(l===d.length||X>n*.6)&&(u.fillText(G,X/-2,0),u.translate(0,j*1.2),d.splice(0,l),l=0)}}return()=>{const d=u.canvas.toDataURL();if(v){const l=document.createElement("img");l.src=d,document.body.append(l)}return z(s,d),d}}function z(n,a){const s=document.createElement("link");s.setAttribute("rel","apple-touch-startup-image"),s.setAttribute("media",`(orientation: ${n})`),s.setAttribute("href",a),document.head.appendChild(s)}const V=y("iOS");if(!v&&V)try{const n=JSON.parse(V);z("portrait",n.p),z("landscape",n.l),h.forEach(a=>{const s=n.i[a.href];s&&(a.href=s)});return}catch(n){}const b={i:{}};function q(n,a){const s=window.screen,f=N(s.width,s.height,"portrait",n),p=N(s.height,s.width,"landscape",n);setTimeout(()=>{b.p=f(),setTimeout(()=>{b.l=p(),a()},10)},10)}function de(n){let a=h.length+1;const s=()=>{--a||n()};s(),h.forEach(f=>{const p=new Image;p.crossOrigin="anonymous",p.onerror=s,p.onload=()=>{p.onload=null,f.href=P(p,x,!0),b.i[p.src]=f.href,s()},p.src=f.href})}function A(){y("iOS",JSON.stringify(b))}function J(){const n=h.shift();if(!n){q(null,A);return}const a=new Image;a.crossOrigin="anonymous",a.onerror=()=>void J(),a.onload=()=>{a.onload=null,q(a,()=>{const s=e.background_color&&P(a,x);s?(n.href=s,b.i[a.src]=s,de(A)):A()})},a.src=n.href}J()}function re(e){let t;return(e||[]).filter(o=>o.platform==="itunes").forEach(o=>{if(o.id)t=o.id;else{const r=o.url.match(/id(\d+)/);r&&(t=r[1])}}),t}function ae(e){const t=String(e||"").substr(0,3);return{por:"portrait",lan:"landscape"}[t]||""}function se(e,t){if(!(S||te))return;const o=F(e);if(S)c("apple-mobile-web-app-status-bar-style",t?"black-translucent":o?"black":"default");else{const r=ie();if(!r)return;const i=o?255:0;r.foregroundColor={r:i,g:i,b:i,a:255},r.backgroundColor=ce(e)}}function ie(){try{return Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar}catch(e){}}function ce(e){const t=W(e);return{r:t[0],g:t[1],b:t[2],a:t[3]}}function W(e){const t=T();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data||[]}function F(e){const o=W(e).map(h=>{const m=h/255;return m<.03928?m/12.92:Math.pow((m+.055)/1.055,2.4)}),r=.2126*o[0]+.7152*o[1]+.0722*o[2];return Math.abs(1.05/(r+.05))>3}function P(e,t,o=!1){const r=T(e);if(r.drawImage(e,0,0),!(!o&&r.getImageData(0,0,1,1).data[3]===255))return r.globalCompositeOperation="destination-over",r.fillStyle=t,r.fillRect(0,0,e.width,e.height),r.canvas.toDataURL()}function T({width:e,height:t}={width:1,height:1}){const o=document.createElement("canvas");return o.width=e,o.height=t,o.getContext("2d")}document.readyState==="complete"?D():window.addEventListener("load",D)})()}}]);
