(self.webpackChunkchendachao=self.webpackChunkchendachao||[]).push([[895],{48895:function(D,u,d){"use strict";d.r(u),d.d(u,{closeModal:function(){return s},displayQRCode:function(){return M},showModal:function(){return E}});var y=d(92592),C=d(90908),Q="chendachao.netlify.app",L="https://chendachao.netlify.app",A="https://chendachao.netlify.app/";d.e(284).then(d.bind(d,57284));var t=document.querySelector("#dialog"),m="appear-from-top",w="disappear-from-top";C.Z.registerDialog(t);function E(){t.showModal(),t.classList.add(m),setTimeout(function(){t.classList.remove(m)},650)}function s(i){t.classList.add(w),setTimeout(function(){t.classList.remove(w),t.close(i)},500)}function v(){t.classList.add("shake"),setTimeout(function(){return t.classList.remove("shake")},300)}var R=document.querySelectorAll(".dialog-dismiss-trigger");R.forEach(function(i){i.addEventListener("click",function(){s()})}),t.addEventListener("close",function(){t.returnValue=""}),t.addEventListener("click",function(i){var r=t.getBoundingClientRect(),l=r.top<=i.clientY&&i.clientY<=r.bottom&&r.left<=i.clientX&&i.clientX<=r.right;l||v()}),t.addEventListener("cancel",function(i){i.preventDefault(),v()});var M=function(){var r=/localhost|127.0.0.1/,l=r.test(window.location.origin)?L:window.location.origin,p=document.querySelector(".download-img-wrapper"),c=document.querySelector(".mobile-qrcode");c.setAttribute("alt",l);var S=document.createElement("canvas"),h={width:320,height:320,margin:3};y.toCanvas(S,l,{width:h.width,height:h.height,margin:h.margin,errorCorrectionLevel:"H",quality:1,version:5,color:{}}).then(function(o){var e={width:48,height:48},k="./assets/images/icons/favicon.ico",a=o.getContext("2d"),g=new Image;g.src=k,g.onload=function(){var n=6;a.lineWidth=n/3,a.lineJoin="round",a.lineCap="round",a.strokeStyle="#ffffff",a.beginPath(),a.rect(o.width/2-e.width/2-n/4,o.width/2-e.width/2-n/4,e.width+n,e.height+n),a.stroke(),a.fillStyle="#ffffff",a.fillRect(o.width/2-e.width/2-n/4,o.height/2-e.height/2-n/4,e.width+n,e.height+n),a.drawImage(g,o.width/2-e.width/2+n/4,o.height/2-e.height/2+n/4,e.width,e.height),c.src=o.toDataURL("image/png"),p.href=c.src,p.download="".concat(window.location.hostname,".png")}}).catch(function(o){c.setAttribute("alt","Failed to generate QRCode, please visit ".concat(l)),console.error(o)});var f=document.querySelector(".download-btn");function b(o){f.download="".concat(window.location.hostname,".png"),f.href=o}f.addEventListener("click",function(){s(),b(c.src)})}}}]);
