this.goog=this.goog||{},this.goog.offlineGoogleAnalytics=function(){"use strict";var p={CACHE_NAME:"offline-google-analytics",IDB:{NAME:"offline-google-analytics",STORE:"urls",VERSION:1},MAX_ANALYTICS_BATCH_SIZE:20,STOP_RETRYING_AFTER:1728e5,URL:{ANALYTICS_JS_PATH:"/analytics.js",COLLECT_PATH:"/collect",HOST:"www.google-analytics.com"}};function O(h,e){return e={exports:{}},h(e,e.exports),e.exports}var x=O(function(h){"use strict";(function(){function e(o){return Array.prototype.slice.call(o)}function t(o){return new Promise(function(n,i){o.onsuccess=function(){n(o.result)},o.onerror=function(){i(o.error)}})}function r(o,n,i){var a,s=new Promise(function(d,y){a=o[n].apply(o,i),t(a).then(d,y)});return s.request=a,s}function c(o,n,i){var a=r(o,n,i);return a.then(function(s){return s?new L(s,a.request):void 0})}function u(o,n,i){i.forEach(function(a){Object.defineProperty(o.prototype,a,{get:function(){return this[n][a]},set:function(s){this[n][a]=s}})})}function l(o,n,i,a){a.forEach(function(s){s in i.prototype&&(o.prototype[s]=function(){return r(this[n],s,arguments)})})}function g(o,n,i,a){a.forEach(function(s){s in i.prototype&&(o.prototype[s]=function(){return this[n][s].apply(this[n],arguments)})})}function m(o,n,i,a){a.forEach(function(s){s in i.prototype&&(o.prototype[s]=function(){return c(this[n],s,arguments)})})}function f(o){this._index=o}function L(o,n){this._cursor=o,this._request=n}function _(o){this._store=o}function E(o){this._tx=o,this.complete=new Promise(function(n,i){o.oncomplete=function(){n()},o.onerror=function(){i(o.error)},o.onabort=function(){i(o.error)}})}function b(o,n,i){this._db=o,this.oldVersion=n,this.transaction=new E(i)}function v(o){this._db=o}u(f,"_index",["name","keyPath","multiEntry","unique"]),l(f,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),m(f,"_index",IDBIndex,["openCursor","openKeyCursor"]),u(L,"_cursor",["direction","key","primaryKey","value"]),l(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(o){o in IDBCursor.prototype&&(L.prototype[o]=function(){var n=this,i=arguments;return Promise.resolve().then(function(){return n._cursor[o].apply(n._cursor,i),t(n._request).then(function(a){return a?new L(a,n._request):void 0})})})}),_.prototype.createIndex=function(){return new f(this._store.createIndex.apply(this._store,arguments))},_.prototype.index=function(){return new f(this._store.index.apply(this._store,arguments))},u(_,"_store",["name","keyPath","indexNames","autoIncrement"]),l(_,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),m(_,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),g(_,"_store",IDBObjectStore,["deleteIndex"]),E.prototype.objectStore=function(){return new _(this._tx.objectStore.apply(this._tx,arguments))},u(E,"_tx",["objectStoreNames","mode"]),g(E,"_tx",IDBTransaction,["abort"]),b.prototype.createObjectStore=function(){return new _(this._db.createObjectStore.apply(this._db,arguments))},u(b,"_db",["name","version","objectStoreNames"]),g(b,"_db",IDBDatabase,["deleteObjectStore","close"]),v.prototype.transaction=function(){return new E(this._db.transaction.apply(this._db,arguments))},u(v,"_db",["name","version","objectStoreNames"]),g(v,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(o){[_,f].forEach(function(n){n.prototype[o.replace("open","iterate")]=function(){var i=e(arguments),a=i[i.length-1],s=this._store||this._index,d=s[o].apply(s,i.slice(0,-1));d.onsuccess=function(){a(d.result)}}})}),[f,_].forEach(function(o){o.prototype.getAll||(o.prototype.getAll=function(n,i){var a=this,s=[];return new Promise(function(d){a.iterateCursor(n,function(y){return y?(s.push(y.value),i!==void 0&&s.length==i?void d(s):void y.continue()):void d(s)})})})});var k={open:function(o,n,i){var a=r(indexedDB,"open",[o,n]),s=a.request;return s.onupgradeneeded=function(d){i&&i(new b(s.result,d.oldVersion,s.transaction))},a.then(function(d){return new v(d)})},delete:function(o){return r(indexedDB,"deleteDatabase",[o])}};h.exports=k,h.exports.default=h.exports})()});class G{constructor(e,t,r){if(e==null||t==null||r==null)throw Error("name, version, storeName must be passed to the constructor.");this._name=e,this._version=t,this._storeName=r}_getDb(){return this._dbPromise?this._dbPromise:(this._dbPromise=x.open(this._name,this._version,e=>{e.createObjectStore(this._storeName)}).then(e=>e),this._dbPromise)}close(){return this._dbPromise?this._dbPromise.then(e=>{e.close(),this._dbPromise=null}):void 0}put(e,t){return this._getDb().then(r=>{const c=r.transaction(this._storeName,"readwrite");return c.objectStore(this._storeName).put(t,e),c.complete})}delete(e){return this._getDb().then(t=>{const r=t.transaction(this._storeName,"readwrite");return r.objectStore(this._storeName).delete(e),r.complete})}get(e){return this._getDb().then(t=>t.transaction(this._storeName).objectStore(this._storeName).get(e))}getAllValues(){return this._getDb().then(e=>e.transaction(this._storeName).objectStore(this._storeName).getAll())}getAllKeys(){return this._getDb().then(e=>e.transaction(this._storeName).objectStore(this._storeName).getAllKeys())}}const P=new G(p.IDB.NAME,p.IDB.VERSION,p.IDB.STORE);var N=(h,e)=>{const t=new URL(h.url);return h.text().then(r=>(r&&(t.search=r),P.put(t.toString(),e||Date.now())))};class S{constructor({title:e,isPrimary:t}={}){this._isPrimary=t||!1,this._groupTitle=e||"",this._logs=[],this._childGroups=[],this._isFirefox=!1,/Firefox\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isFirefox=!0),this._isEdge=!1,/Edge\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isEdge=!0)}addLog(e){this._logs.push(e)}addChildGroup(e){e._logs.length===0||this._childGroups.push(e)}print(){return this._isEdge?void this._printEdgeFriendly():(this._openGroup(),this._logs.forEach(e=>{this._printLogDetails(e)}),this._childGroups.forEach(e=>{e.print()}),void this._closeGroup())}_printEdgeFriendly(){this._logs.forEach(e=>{let t=e.message;typeof t=="string"&&(t=t.replace(/%c/g,""));const r=[t];e.error&&r.push(e.error),e.args&&r.push(e.args),(e.logFunc||console.log)(...r)}),this._childGroups.forEach(e=>{e.print()})}_printLogDetails(e){const t=e.logFunc?e.logFunc:console.log;let r=e.message,c=[r];e.colors&&!this._isEdge&&(c=c.concat(e.colors)),e.args&&(c=c.concat(e.args)),t(...c)}_openGroup(){if(this._isPrimary){if(this._childGroups.length===0)return;const e=this._logs.shift();if(this._isFirefox)return void this._printLogDetails(e);e.logFunc=console.group,this._printLogDetails(e)}else console.groupCollapsed(this._groupTitle)}_closeGroup(){this._isPrimary&&this._childGroups.length===0||console.groupEnd()}}function T(){return"ServiceWorkerGlobalScope"in self&&self instanceof ServiceWorkerGlobalScope}function R(){return!1}function C(){return!!(location.hostname==="localhost"||location.hostname==="[::1]"||location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}var j={isDevBuild:R,isLocalhost:C,isServiceWorkerGlobalScope:T};self.goog=self.goog||{},self.goog.LOG_LEVEL=self.goog.LOG_LEVEL||{none:-1,verbose:0,debug:1,warn:2,error:3};const A="#bdc3c7",B="#7f8c8d",V="#2ecc71",H="#f1c40f",K="#e74c3c",q="#3498db";class M{constructor(){this._defaultLogLevel=j.isDevBuild()?self.goog.LOG_LEVEL.debug:self.goog.LOG_LEVEL.warn}log(e){this._printMessage(self.goog.LOG_LEVEL.verbose,e)}debug(e){this._printMessage(self.goog.LOG_LEVEL.debug,e)}warn(e){this._printMessage(self.goog.LOG_LEVEL.warn,e)}error(e){this._printMessage(self.goog.LOG_LEVEL.error,e)}_printMessage(e,t){this._shouldLogMessage(e,t)&&this._getAllLogGroups(e,t).print()}_getAllLogGroups(e,t){const r=new S({isPrimary:!0,title:"sw-helpers log."}),c=this._getPrimaryMessageDetails(e,t);if(r.addLog(c),t.error){const l={message:t.error,logFunc:console.error};r.addLog(l)}const u=new S({title:"Extra Information."});if(t.that&&t.that.constructor&&t.that.constructor.name){const l=t.that.constructor.name;u.addLog(this._getKeyValueDetails("class",l))}return t.data&&(typeof t.data!="object"||t.data instanceof Array?u.addLog(this._getKeyValueDetails("additionalData",t.data)):Object.keys(t.data).forEach(l=>{u.addLog(this._getKeyValueDetails(l,t.data[l]))})),r.addChildGroup(u),r}_getKeyValueDetails(e,t){return{message:`%c${e}: `,colors:[`color: ${q}`],args:t}}_getPrimaryMessageDetails(e,t){let r,c;e===self.goog.LOG_LEVEL.verbose?(r="Info",c=A):e===self.goog.LOG_LEVEL.debug?(r="Debug",c=V):e===self.goog.LOG_LEVEL.warn?(r="Warn",c=H):e===self.goog.LOG_LEVEL.error&&(r="Error",c=K);let u=`%c\u{1F527} %c[${r}]`;const l=[`color: ${A}`,`color: ${c}`];let g;return typeof t=="string"?g=t:t.message&&(g=t.message),g&&(g=g.replace(/\s+/g," "),u+=`%c ${g}`,l.push(`color: ${B}; font-weight: normal`)),{message:u,colors:l}}_shouldLogMessage(e,t){if(!t)return!1;let r=this._defaultLogLevel;return self&&self.goog&&typeof self.goog.logLevel=="number"&&(r=self.goog.logLevel),!(r===self.goog.LOG_LEVEL.none||e<r)}}var I=new M;const D=new G(p.IDB.NAME,p.IDB.VERSION,p.IDB.STORE);var w=h=>(h=h||{},D.getAllKeys().then(e=>Promise.all(e.map(t=>D.get(t).then(r=>{const c=Date.now()-r,u=new URL(t);if(c>p.STOP_RETRYING_AFTER||!("searchParams"in u))return;let l=h.parameterOverrides||{};l.qt=c,Object.keys(l).sort().forEach(m=>{u.searchParams.set(m,l[m])});let g=h.hitFilter;if(typeof g=="function")try{g(u.searchParams)}catch(m){return}return fetch(u.toString())}).then(()=>D.delete(t)))))),F={initialize:h=>{h=h||{};let e=!1;self.addEventListener("fetch",t=>{const r=new URL(t.request.url),c=t.request;if(r.hostname===p.URL.HOST)if(r.pathname===p.URL.COLLECT_PATH){const u=c.clone();t.respondWith(fetch(c).then(l=>(e&&w(h),e=!1,l),()=>(I.log("Enqueuing failed request..."),e=!0,N(u).then(()=>Response.error()))))}else r.pathname===p.URL.ANALYTICS_JS_PATH&&t.respondWith(caches.open(p.CACHE_NAME).then(u=>fetch(c).then(l=>u.put(c,l.clone()).then(()=>l)).catch(l=>(I.error(l),u.match(c)))))}),w(h)}};return F}();
